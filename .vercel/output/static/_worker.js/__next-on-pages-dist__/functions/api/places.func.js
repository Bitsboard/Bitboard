var ae=Object.defineProperty;var se=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var oe=Object.prototype.hasOwnProperty;var ie=(l,g)=>()=>(l&&(g=l(l=0)),g);var z=(l,g,U,T)=>{if(g&&typeof g=="object"||typeof g=="function")for(let E of re(g))!oe.call(l,E)&&E!==U&&ae(l,E,{get:()=>g[E],enumerable:!(T=se(g,E))||T.enumerable});return l},Z=(l,g,U)=>(z(l,g,"default"),U&&z(U,g,"default"));var _e=l=>z(ae({},"__esModule",{value:!0}),l);var W={};import*as Rt from"async_hooks";var ne=ie(()=>{Z(W,Rt)});import{__getNamedExports as ce}from"../../../__next-on-pages-dist__/webpack/0db62fc21f400f4ff93662ca787c3a50.js";import{__getNamedExports as ue}from"../../../__next-on-pages-dist__/webpack/0406212c5b03d4d7d56d829c11dc80f8.js";import{__getNamedExports as pe}from"../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var I=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/places"),n=ce(I,I,I),le=n.__chunk_6195,de=n.__chunk_2067,ge=n.__chunk_1548,he=n.__chunk_2780,me=n.__chunk_5612,ye=n.__chunk_9614,xe=n.__chunk_3628,fe=n.__chunk_5403,Ne=n.__chunk_3,ke=n.__chunk_9814,Re=n.__chunk_7114,ve=n.__chunk_7894,Te=n.__chunk_4414,Ee=n.__chunk_9307,be=n.__chunk_74,we=n.__chunk_7257,Se=n.__chunk_7398,Ae=n.__chunk_6839,Ie=n.__chunk_5027,Pe=n.__chunk_2738,$e=n.__chunk_2113,Oe=n.__chunk_2860,Ce=n.__chunk_7460,Me=n.__chunk_8427,Ke=n.__chunk_8997,Fe=n.__chunk_8024,Be=n.__chunk_2403,je=n.__chunk_8690,Le=n.__chunk_6087,He=n.__chunk_6265,Ue=n.__chunk_8610,De=n.__chunk_7959,qe=n.__chunk_4303,We=n.__chunk_3326,Ge=n.__chunk_391,Ve=n.__chunk_8789,Xe=n.__chunk_552,Ye=n.__chunk_7649,Je=n.__chunk_2501,ze=n.__chunk_6443,Ze=n.__chunk_2034,Qe=n.__chunk_3131,f=ue(I,I,I),et=f.__chunk_5524,tt=f.__chunk_8536,at=f.__chunk_6765,nt=f.__chunk_9859,st=f.__chunk_4123,rt=f.__chunk_3412,ot=f.__chunk_8978,it=f.__chunk_1812,_t=f.__chunk_1673,ct=f.__chunk_5376,ut=f.__chunk_6617,pt=f.__chunk_5767,lt=f.__chunk_3109,dt=f.__chunk_641,gt=f.__chunk_5514,ht=f.__chunk_5257,mt=f.__chunk_1616,yt=f.__chunk_2328,Q=pe(I,I,I),xt=Q.__NEXT_FONT_MANIFEST,ft=Q.__REACT_LOADABLE_MANIFEST,Nt=Q.__BUILD_MANIFEST,bt=((l,g,U)=>(g._ENTRIES={},l.__BUILD_MANIFEST=Nt,l.__REACT_LOADABLE_MANIFEST=ft,l.__NEXT_FONT_MANIFEST=xt,l.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",l.__PRERENDER_MANIFEST='{"version":4,"routes":{"/admin/users":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/users/layout,_N_T_/admin/users/page,_N_T_/admin/users"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin/users","dataRoute":"/admin/users.rsc"},"/contact":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/contact/layout,_N_T_/contact/page,_N_T_/contact"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/contact","dataRoute":"/contact.rsc"},"/careers":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/careers/layout,_N_T_/careers/page,_N_T_/careers"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/careers","dataRoute":"/careers.rsc"},"/escrow":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/escrow/layout,_N_T_/escrow/page,_N_T_/escrow"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/escrow","dataRoute":"/escrow.rsc"},"/about":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/about/layout,_N_T_/about/page,_N_T_/about"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/about","dataRoute":"/about.rsc"},"/faq":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/faq/layout,_N_T_/faq/page,_N_T_/faq"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/faq","dataRoute":"/faq.rsc"},"/help":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/help/layout,_N_T_/help/page,_N_T_/help"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/help","dataRoute":"/help.rsc"},"/":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/page,_N_T_/"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/","dataRoute":"/index.rsc"},"/privacy":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/privacy/layout,_N_T_/privacy/page,_N_T_/privacy"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/privacy","dataRoute":"/privacy.rsc"},"/safety":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/safety/layout,_N_T_/safety/page,_N_T_/safety"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/safety","dataRoute":"/safety.rsc"},"/admin":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/page,_N_T_/admin"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin","dataRoute":"/admin.rsc"},"/support":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/support/layout,_N_T_/support/page,_N_T_/support"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/support","dataRoute":"/support.rsc"},"/terms":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/terms/layout,_N_T_/terms/page,_N_T_/terms"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/terms","dataRoute":"/terms.rsc"},"/test-settings":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/test-settings/layout,_N_T_/test-settings/page,_N_T_/test-settings"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/test-settings","dataRoute":"/test-settings.rsc"},"/admin/listings":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/listings/layout,_N_T_/admin/listings/page,_N_T_/admin/listings"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin/listings","dataRoute":"/admin/listings.rsc"},"/auth-success":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/auth-success/layout,_N_T_/auth-success/page,_N_T_/auth-success"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/auth-success","dataRoute":"/auth-success.rsc"},"/admin/chats":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/chats/layout,_N_T_/admin/chats/page,_N_T_/admin/chats"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin/chats","dataRoute":"/admin/chats.rsc"},"/icon.svg":{"initialHeaders":{"cache-control":"public, immutable, no-transform, max-age=31536000","content-type":"image/svg+xml","x-next-cache-tags":"_N_T_/layout,_N_T_/icon.svg/layout,_N_T_/icon.svg/route,_N_T_/icon.svg"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/icon.svg","dataRoute":null},"/messages":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/messages/layout,_N_T_/messages/page,_N_T_/messages"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/messages","dataRoute":"/messages.rsc"}},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var T={},E={};function o(t){var c=E[t];if(c!==void 0)return c.exports;var a=E[t]={exports:{}},h=!0;try{T[t](a,a.exports,o),h=!1}finally{h&&delete E[t]}return a.exports}o.m=T,o.amdO={},(()=>{var t=[];o.O=(c,a,h,y)=>{if(a){y=y||0;for(var d=t.length;d>0&&t[d-1][2]>y;d--)t[d]=t[d-1];t[d]=[a,h,y];return}for(var x=1/0,d=0;d<t.length;d++){for(var[a,h,y]=t[d],k=!0,S=0;S<a.length;S++)x>=y&&Object.keys(o.O).every(F=>o.O[F](a[S]))?a.splice(S--,1):(k=!1,y<x&&(x=y));if(k){t.splice(d--,1);var O=h();O!==void 0&&(c=O)}}return c}})(),o.n=t=>{var c=t&&t.__esModule?()=>t.default:()=>t;return o.d(c,{a:c}),c},(()=>{var t,c=Object.getPrototypeOf?a=>Object.getPrototypeOf(a):a=>a.__proto__;o.t=function(a,h){if(1&h&&(a=this(a)),8&h||typeof a=="object"&&a&&(4&h&&a.__esModule||16&h&&typeof a.then=="function"))return a;var y=Object.create(null);o.r(y);var d={};t=t||[null,c({}),c([]),c(c)];for(var x=2&h&&a;typeof x=="object"&&!~t.indexOf(x);x=c(x))Object.getOwnPropertyNames(x).forEach(k=>d[k]=()=>a[k]);return d.default=()=>a,o.d(y,d),y}})(),o.d=(t,c)=>{for(var a in c)o.o(c,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:c[a]})},o.e=()=>Promise.resolve(),o.g=function(){if(typeof g=="object")return g;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(t,c)=>Object.prototype.hasOwnProperty.call(t,c),o.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={5993:0};o.O.j=h=>t[h]===0;var c=(h,y)=>{var d,x,[k,S,O]=y,M=0;if(k.some(D=>t[D]!==0)){for(d in S)o.o(S,d)&&(o.m[d]=S[d]);if(O)var K=O(o)}for(h&&h(y);M<k.length;M++)x=k[M],o.o(t,x)&&t[x]&&t[x][0](),t[x]=0;return o.O(K)},a=l.webpackChunk_N_E=l.webpackChunk_N_E||[];a.forEach(c.bind(null,0)),a.push=c.bind(null,a.push.bind(a))})()})(),(l.webpackChunk_N_E=l.webpackChunk_N_E||[]).push([[9531],{3131:Qe,2034:Ze,6443:ze,2501:Je,7649:Ye,552:Xe,8789:Ve,391:Ge,3326:We,4303:qe,7959:De,8610:Ue,6265:He,6087:Le,8690:je,2403:Be,8024:Fe,8997:Ke,8427:Me,7460:Ce,2860:Oe,2113:$e,2738:Pe,5027:Ie,6839:Ae,7398:Se,7257:we,74:be,9307:Ee,4414:Te,7894:ve,7114:Re,9814:ke,3:Ne,5403:fe,3628:xe,9614:ye,5612:me,2780:he,1548:ge}]),(l.webpackChunk_N_E=l.webpackChunk_N_E||[]).push([[2703],{2328:yt,1616:mt,5257:ht,5514:gt,641:dt,3109:lt,5767:pt,6617:ut,5376:ct,1673:_t,1812:it,8978:ot,3412:rt,4123:st,9859:nt,6765:at,8536:tt,5524:et}]),(l.webpackChunk_N_E=l.webpackChunk_N_E||[]).push([[7171],{2067:de,6195:le,3397:(T,E,o)=>{"use strict";o.r(E),o.d(E,{ComponentMod:()=>Y,default:()=>J});var t={};o.r(t),o.d(t,{GET:()=>M,runtime:()=>x});var c={};o.r(c),o.d(c,{originalPathname:()=>V,patchFetch:()=>X,requestAsyncStorage:()=>D,routeModule:()=>K,serverHooks:()=>F,staticGenerationAsyncStorage:()=>L});var a=o(3109),h=o(5514),y=o(2860),d=o(2113);let x="edge";function k(B){if(B)return{us:"USA",ca:"CAN",mx:"MEX",gb:"GBR",uk:"GBR",de:"DEU",fr:"FRA",es:"ESP",it:"ITA",nl:"NLD",se:"SWE",no:"NOR",fi:"FIN",dk:"DNK",au:"AUS",nz:"NZL",jp:"JPN",cn:"CHN",in:"IND",br:"BRA",ar:"ARG",cl:"CHL",co:"COL",pe:"PER",ru:"RUS",ua:"UKR",za:"ZAF"}[B.toLowerCase()]||B.toUpperCase()}let S={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","District of Columbia":"DC"},O={Alberta:"AB","British Columbia":"BC",Manitoba:"MB","New Brunswick":"NB","Newfoundland and Labrador":"NL","Nova Scotia":"NS",Ontario:"ON","Prince Edward Island":"PE",Quebec:"QC",Saskatchewan:"SK","Northwest Territories":"NT",Nunavut:"NU",Yukon:"YT"};async function M(B){let{searchParams:G}=new URL(B.url),A=(G.get("q")||"").trim(),C=Math.min(50,Math.max(1,Number(G.get("limit")||15)));if(!A||A.length<2)return new Response(JSON.stringify({results:[]}),{headers:{"content-type":"application/json"}});try{try{let p=`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(A)}&count=${C}&language=en&format=json`,r=await fetch(p,{headers:{Accept:"application/json"}});if(r.ok){let R=await r.json(),b=(R?.results??[]).map(_=>{let N=(_.name||"").toString(),w=(_.admin1||"").toString(),$=(_.country_code||"").toString(),H=(_.feature_code||"").toString();if(!N||!$||!H||!H.startsWith("PPL"))return null;let j=k($);return{name:[N.replace(/\s*\(.*?\)\s*/g,"").replace(/\s+-\s+.*/g,"").trim(),w||void 0,j].filter(Boolean).join(", "),lat:Number(_.latitude),lng:Number(_.longitude),pop:Number(_.population)||0}}).filter(Boolean),m=new Map;for(let _ of b){let N=_.name.toLowerCase(),w=m.get(N);(!w||_.pop>w.pop)&&m.set(N,_)}let v=Array.from(m.values()).slice(0,C).map(({pop:_,...N})=>N);if(v.length>0)return new Response(JSON.stringify({results:v}),{headers:{"content-type":"application/json"}})}}catch{}try{let p=`https://geodb-free-service.wirefreethought.com/v1/geo/cities?namePrefix=${encodeURIComponent(A)}&limit=${C}&sort=-population&hateoasMode=false&languageCode=en`,r=await fetch(p,{headers:{Accept:"application/json"}});if(r.ok){let R=await r.json(),b=(R?.data??[]).map(_=>{let N=typeof _.countryCode=="string"?_.countryCode:void 0,w=k(N),$=typeof _.regionCode=="string"?_.regionCode:void 0,H=typeof _.region=="string"?_.region:void 0,j=($||H||"").toString().toUpperCase(),q=(_.city||"").toString();return q&&w?{name:[q.replace(/\s*\(.*?\)\s*/g,"").replace(/\s+-\s+.*/g,"").trim(),j,w].filter(Boolean).join(", "),lat:Number(_.latitude),lng:Number(_.longitude),pop:Number(_.population)||0}:null}).filter(Boolean),m=new Map;for(let _ of b){let N=_.name.toLowerCase(),w=m.get(N);(!w||_.pop>w.pop)&&m.set(N,_)}let v=Array.from(m.values()).slice(0,C).map(({pop:_,...N})=>N);if(v.length>0)return new Response(JSON.stringify({results:v}),{headers:{"content-type":"application/json"}})}}catch{}let P=`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=${C}&q=${encodeURIComponent(A)}&class=place&email=noreply@bitsbarter.app`,e=await fetch(P,{headers:{Accept:"application/json","User-Agent":"bitsbarter/1.0 (+https://bitsbarter.app)"}}),u=(await e.json()).map(p=>{let r=p.address||{},R=(p.type||"").toString();if(!new Set(["city","town","village","municipality","locality"]).has(R))return null;let b=r.country_code,m=k(b),v=r["ISO3166-2-lvl4"]||r["ISO3166-2-lvl6"]||r["ISO3166-2-lvl3"],_=function(H,j,q){if(!j)return;let ee=(H||"").toLowerCase();if(q){let te=q.split("-");if(te.length===2)return te[1].toUpperCase()}return ee==="us"?S[j]||void 0:ee==="ca"&&O[j]||void 0}(b,r.state,v),N=r.city||r.town||r.village||r.municipality||r.locality||"";if(!N)return null;let w=String(N).replace(/\s*\(.*?\)\s*/g,"").replace(/\s+-\s+.*/g,"").trim(),$=[];return w&&$.push(w),_?$.push(_):r.state&&$.push(String(r.state)),m&&$.push(m),{name:$.filter(Boolean).join(", "),lat:Number(p.lat),lng:Number(p.lon),importance:typeof p.importance=="number"?p.importance:0}}).filter(Boolean),s=new Map;for(let p of u){let r=p.name.toLowerCase(),R=s.get(r);(!R||p.importance>R.importance)&&s.set(r,p)}let i=Array.from(s.values()).sort((p,r)=>r.importance-p.importance).slice(0,C).map(({importance:p,...r})=>r);return new Response(JSON.stringify({results:i}),{headers:{"content-type":"application/json"}})}catch{return new Response(JSON.stringify({results:[]}),{headers:{"content-type":"application/json"},status:200})}}let K=new h.AppRouteRouteModule({definition:{kind:y.x.APP_ROUTE,page:"/api/places/route",pathname:"/api/places",filename:"route",bundlePath:"app/api/places/route"},resolvedPagePath:"/Users/georgedanayan/Bitboard/src/app/api/places/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:D,staticGenerationAsyncStorage:L,serverHooks:F}=K,V="/api/places/route";function X(){return(0,d.XH)({serverHooks:F,staticGenerationAsyncStorage:L})}let Y=c,J=a.a.wrap(K)}},T=>{var E=t=>T(T.s=t);T.O(0,[9531,2703],()=>E(3397));var o=T.O();(g._ENTRIES=typeof g._ENTRIES>"u"?{}:g._ENTRIES)["middleware_app/api/places/route"]=o}]),function(){let T={exports:{},loaded:!1};return function(o,t){var c=Object.create,a=Object.defineProperty,h=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,d=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,k=e=>a(e,"__esModule",{value:!0}),S=(e,u)=>{k(e);for(var s in u)a(e,s,{get:u[s],enumerable:!0})},O=(e,u,s)=>{if(u&&typeof u=="object"||typeof u=="function")for(let i of y(u))!x.call(e,i)&&i!=="default"&&a(e,i,{get:()=>u[i],enumerable:!(s=h(u,i))||s.enumerable});return e},M=e=>O(k(a(e!=null?c(d(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);S(t,{default:()=>G});var K=M((ne(),_e(W))),D="@next/request-context",L=Symbol.for(D),F=Symbol.for("internal.storage");function V(){let e=g;if(!e[L]){let u=new K.AsyncLocalStorage,s={get:()=>u.getStore(),[F]:u};e[L]=s}return e[L]}var X=V();function Y(e,u){return X[F].run(e,u)}function J(e){let u={};return e&&e.forEach((s,i)=>{u[i]=s,i.toLowerCase()==="set-cookie"&&(u[i]=B(s))}),u}function B(e){let u=[],s=0,i,p,r,R,b;function m(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}function v(){return p=e.charAt(s),p!=="="&&p!==";"&&p!==","}for(;s<e.length;){for(i=s,b=!1;m();)if(p=e.charAt(s),p===","){for(r=s,s+=1,m(),R=s;s<e.length&&v();)s+=1;s<e.length&&e.charAt(s)==="="?(b=!0,s=R,u.push(e.substring(i,r)),i=s):s=r+1}else s+=1;(!b||s>=e.length)&&u.push(e.substring(i,e.length))}return u}function G(e){let u=e.staticRoutes.map(i=>({regexp:new RegExp(i.namedRegex),page:i.page})),s=e.dynamicRoutes?.map(i=>({regexp:new RegExp(i.namedRegex),page:i.page}))||[];return async function(i,p){let r=new URL(i.url).pathname,R={};if(e.nextConfig?.basePath&&r.startsWith(e.nextConfig.basePath)&&(r=r.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let m of e.nextConfig.i18n.locales){let v=new RegExp(`^/${m}($|/)`,"i");if(r.match(v)){r=r.replace(v,"/")||"/";break}}for(let m of u)if(m.regexp.exec(r)){R.name=m.page;break}if(!R.name){let m=C(r);for(let v of s||[]){if(m&&!C(v.page))continue;let _=v.regexp.exec(r);if(_){R={name:v.page,params:_.groups};break}}}let b=await Y({waitUntil:p.waitUntil},()=>g._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:i.url,method:i.method,headers:J(i.headers),ip:A(i.headers,P.Ip),geo:{city:A(i.headers,P.City,!0),country:A(i.headers,P.Country,!0),latitude:A(i.headers,P.Latitude),longitude:A(i.headers,P.Longitude),region:A(i.headers,P.Region,!0)},nextConfig:e.nextConfig,page:R,body:i.body}}));return b.waitUntil&&p.waitUntil(b.waitUntil),b.response}}function A(e,u,s=!1){let i=e.get(u)||void 0;return s&&i?decodeURIComponent(i):i}function C(e){return e==="/api"||e.startsWith("/api/")}var P;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(P||(P={}))}(T,T.exports),T.exports}.call({}).default({name:"app/api/places/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/admin",regex:"^/admin(?:/)?$",routeKeys:{},namedRegex:"^/admin(?:/)?$"},{page:"/admin/chats",regex:"^/admin/chats(?:/)?$",routeKeys:{},namedRegex:"^/admin/chats(?:/)?$"},{page:"/admin/listings",regex:"^/admin/listings(?:/)?$",routeKeys:{},namedRegex:"^/admin/listings(?:/)?$"},{page:"/admin/users",regex:"^/admin/users(?:/)?$",routeKeys:{},namedRegex:"^/admin/users(?:/)?$"},{page:"/auth-success",regex:"^/auth\\-success(?:/)?$",routeKeys:{},namedRegex:"^/auth\\-success(?:/)?$"},{page:"/careers",regex:"^/careers(?:/)?$",routeKeys:{},namedRegex:"^/careers(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/escrow",regex:"^/escrow(?:/)?$",routeKeys:{},namedRegex:"^/escrow(?:/)?$"},{page:"/faq",regex:"^/faq(?:/)?$",routeKeys:{},namedRegex:"^/faq(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/icon.svg",regex:"^/icon\\.svg(?:/)?$",routeKeys:{},namedRegex:"^/icon\\.svg(?:/)?$"},{page:"/messages",regex:"^/messages(?:/)?$",routeKeys:{},namedRegex:"^/messages(?:/)?$"},{page:"/privacy",regex:"^/privacy(?:/)?$",routeKeys:{},namedRegex:"^/privacy(?:/)?$"},{page:"/safety",regex:"^/safety(?:/)?$",routeKeys:{},namedRegex:"^/safety(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/support",regex:"^/support(?:/)?$",routeKeys:{},namedRegex:"^/support(?:/)?$"},{page:"/terms",regex:"^/terms(?:/)?$",routeKeys:{},namedRegex:"^/terms(?:/)?$"},{page:"/test-settings",regex:"^/test\\-settings(?:/)?$",routeKeys:{},namedRegex:"^/test\\-settings(?:/)?$"}],dynamicRoutes:[{page:"/api/admin/chats/[chatId]/messages",regex:"^/api/admin/chats/([^/]+?)/messages(?:/)?$",routeKeys:{nxtPchatId:"nxtPchatId"},namedRegex:"^/api/admin/chats/(?<nxtPchatId>[^/]+?)/messages(?:/)?$"},{page:"/api/admin/listings/[listingId]/chats",regex:"^/api/admin/listings/([^/]+?)/chats(?:/)?$",routeKeys:{nxtPlistingId:"nxtPlistingId"},namedRegex:"^/api/admin/listings/(?<nxtPlistingId>[^/]+?)/chats(?:/)?$"},{page:"/api/admin/listings/[listingId]/images",regex:"^/api/admin/listings/([^/]+?)/images(?:/)?$",routeKeys:{nxtPlistingId:"nxtPlistingId"},namedRegex:"^/api/admin/listings/(?<nxtPlistingId>[^/]+?)/images(?:/)?$"},{page:"/api/admin/users/[userId]/chats",regex:"^/api/admin/users/([^/]+?)/chats(?:/)?$",routeKeys:{nxtPuserId:"nxtPuserId"},namedRegex:"^/api/admin/users/(?<nxtPuserId>[^/]+?)/chats(?:/)?$"},{page:"/api/admin/users/[userId]/listings",regex:"^/api/admin/users/([^/]+?)/listings(?:/)?$",routeKeys:{nxtPuserId:"nxtPuserId"},namedRegex:"^/api/admin/users/(?<nxtPuserId>[^/]+?)/listings(?:/)?$"},{page:"/api/chat/[chatId]",regex:"^/api/chat/([^/]+?)(?:/)?$",routeKeys:{nxtPchatId:"nxtPchatId"},namedRegex:"^/api/chat/(?<nxtPchatId>[^/]+?)(?:/)?$"},{page:"/api/listings/[id]",regex:"^/api/listings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/listings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/listings/[id]/view",regex:"^/api/listings/([^/]+?)/view(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/listings/(?<nxtPid>[^/]+?)/view(?:/)?$"},{page:"/api/users/[username]",regex:"^/api/users/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/api/users/(?<nxtPusername>[^/]+?)(?:/)?$"},{page:"/api/users/[username]/listings",regex:"^/api/users/([^/]+?)/listings(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/api/users/(?<nxtPusername>[^/]+?)/listings(?:/)?$"},{page:"/en/[username]",regex:"^/en/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/en/(?<nxtPusername>[^/]+?)(?:/)?$"},{page:"/profile/[username]",regex:"^/profile/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/profile/(?<nxtPusername>[^/]+?)(?:/)?$"}],nextConfig:{basePath:"",i18n:{locales:["en","fr","es","de"],defaultLocale:"en"}}})))(I,I,I);export{bt as default};
