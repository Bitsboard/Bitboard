var ae=Object.defineProperty;var re=Object.getOwnPropertyDescriptor;var oe=Object.getOwnPropertyNames;var _e=Object.prototype.hasOwnProperty;var se=(l,h)=>()=>(l&&(h=l(l=0)),h);var z=(l,h,H,T)=>{if(h&&typeof h=="object"||typeof h=="function")for(let E of oe(h))!_e.call(l,E)&&E!==H&&ae(l,E,{get:()=>h[E],enumerable:!(T=re(h,E))||T.enumerable});return l},Z=(l,h,H)=>(z(l,h,"default"),H&&z(H,h,"default"));var ie=l=>z(ae({},"__esModule",{value:!0}),l);var W={};import*as Rt from"async_hooks";var ne=se(()=>{Z(W,Rt)});import{__getNamedExports as ce}from"../../../__next-on-pages-dist__/webpack/0db62fc21f400f4ff93662ca787c3a50.js";import{__getNamedExports as ue}from"../../../__next-on-pages-dist__/webpack/0406212c5b03d4d7d56d829c11dc80f8.js";import{__getNamedExports as pe}from"../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var O=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/places"),n=ce(O,O,O),le=n.__chunk_6195,de=n.__chunk_2067,he=n.__chunk_1548,ge=n.__chunk_2780,ye=n.__chunk_5612,me=n.__chunk_9614,fe=n.__chunk_3628,ke=n.__chunk_5403,xe=n.__chunk_3,Ne=n.__chunk_9814,Re=n.__chunk_7114,ve=n.__chunk_7894,Te=n.__chunk_4414,Ee=n.__chunk_9307,be=n.__chunk_74,we=n.__chunk_7257,Se=n.__chunk_7398,Ae=n.__chunk_6839,Oe=n.__chunk_5027,Ce=n.__chunk_2738,Pe=n.__chunk_2113,Ie=n.__chunk_2860,$e=n.__chunk_7460,Me=n.__chunk_8427,Fe=n.__chunk_8997,je=n.__chunk_8024,Be=n.__chunk_2403,Ke=n.__chunk_8690,Le=n.__chunk_6087,Ue=n.__chunk_6265,He=n.__chunk_8610,De=n.__chunk_7959,qe=n.__chunk_4303,We=n.__chunk_3326,Ge=n.__chunk_391,Ve=n.__chunk_8789,Xe=n.__chunk_552,Ye=n.__chunk_7649,Je=n.__chunk_2501,ze=n.__chunk_6443,Ze=n.__chunk_2034,Qe=n.__chunk_3131,k=ue(O,O,O),et=k.__chunk_5524,tt=k.__chunk_8536,at=k.__chunk_6765,nt=k.__chunk_9859,rt=k.__chunk_4123,ot=k.__chunk_3412,_t=k.__chunk_8978,st=k.__chunk_1812,it=k.__chunk_1673,ct=k.__chunk_5376,ut=k.__chunk_6617,pt=k.__chunk_5767,lt=k.__chunk_3109,dt=k.__chunk_641,ht=k.__chunk_5514,gt=k.__chunk_5257,yt=k.__chunk_1616,mt=k.__chunk_2328,Q=pe(O,O,O),ft=Q.__NEXT_FONT_MANIFEST,kt=Q.__REACT_LOADABLE_MANIFEST,xt=Q.__BUILD_MANIFEST,bt=((l,h,H)=>(h._ENTRIES={},l.__BUILD_MANIFEST=xt,l.__REACT_LOADABLE_MANIFEST=kt,l.__NEXT_FONT_MANIFEST=ft,l.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",l.__PRERENDER_MANIFEST='{"version":4,"routes":{"/about":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/about/layout,_N_T_/about/page,_N_T_/about"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/about","dataRoute":"/about.rsc"},"/faq":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/faq/layout,_N_T_/faq/page,_N_T_/faq"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/faq","dataRoute":"/faq.rsc"},"/help":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/help/layout,_N_T_/help/page,_N_T_/help"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/help","dataRoute":"/help.rsc"},"/":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/page,_N_T_/"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/","dataRoute":"/index.rsc"},"/notifications":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/notifications/layout,_N_T_/notifications/page,_N_T_/notifications"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/notifications","dataRoute":"/notifications.rsc"},"/privacy":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/privacy/layout,_N_T_/privacy/page,_N_T_/privacy"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/privacy","dataRoute":"/privacy.rsc"},"/admin":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/page,_N_T_/admin"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin","dataRoute":"/admin.rsc"},"/profile":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/profile/layout,_N_T_/profile/page,_N_T_/profile"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/profile","dataRoute":"/profile.rsc"},"/safety":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/safety/layout,_N_T_/safety/page,_N_T_/safety"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/safety","dataRoute":"/safety.rsc"},"/support":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/support/layout,_N_T_/support/page,_N_T_/support"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/support","dataRoute":"/support.rsc"},"/test-settings":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/test-settings/layout,_N_T_/test-settings/page,_N_T_/test-settings"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/test-settings","dataRoute":"/test-settings.rsc"},"/careers":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/careers/layout,_N_T_/careers/page,_N_T_/careers"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/careers","dataRoute":"/careers.rsc"},"/terms":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/terms/layout,_N_T_/terms/page,_N_T_/terms"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/terms","dataRoute":"/terms.rsc"},"/escrow":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/escrow/layout,_N_T_/escrow/page,_N_T_/escrow"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/escrow","dataRoute":"/escrow.rsc"},"/icon.svg":{"initialHeaders":{"cache-control":"public, immutable, no-transform, max-age=31536000","content-type":"image/svg+xml","x-next-cache-tags":"_N_T_/layout,_N_T_/icon.svg/layout,_N_T_/icon.svg/route,_N_T_/icon.svg"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/icon.svg","dataRoute":null},"/contact":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/contact/layout,_N_T_/contact/page,_N_T_/contact"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/contact","dataRoute":"/contact.rsc"}},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var T={},E={};function _(t){var c=E[t];if(c!==void 0)return c.exports;var a=E[t]={exports:{}},g=!0;try{T[t](a,a.exports,_),g=!1}finally{g&&delete E[t]}return a.exports}_.m=T,_.amdO={},(()=>{var t=[];_.O=(c,a,g,m)=>{if(a){m=m||0;for(var d=t.length;d>0&&t[d-1][2]>m;d--)t[d]=t[d-1];t[d]=[a,g,m];return}for(var f=1/0,d=0;d<t.length;d++){for(var[a,g,m]=t[d],N=!0,S=0;S<a.length;S++)f>=m&&Object.keys(_.O).every(j=>_.O[j](a[S]))?a.splice(S--,1):(N=!1,m<f&&(f=m));if(N){t.splice(d--,1);var I=g();I!==void 0&&(c=I)}}return c}})(),_.n=t=>{var c=t&&t.__esModule?()=>t.default:()=>t;return _.d(c,{a:c}),c},(()=>{var t,c=Object.getPrototypeOf?a=>Object.getPrototypeOf(a):a=>a.__proto__;_.t=function(a,g){if(1&g&&(a=this(a)),8&g||typeof a=="object"&&a&&(4&g&&a.__esModule||16&g&&typeof a.then=="function"))return a;var m=Object.create(null);_.r(m);var d={};t=t||[null,c({}),c([]),c(c)];for(var f=2&g&&a;typeof f=="object"&&!~t.indexOf(f);f=c(f))Object.getOwnPropertyNames(f).forEach(N=>d[N]=()=>a[N]);return d.default=()=>a,_.d(m,d),m}})(),_.d=(t,c)=>{for(var a in c)_.o(c,a)&&!_.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:c[a]})},_.e=()=>Promise.resolve(),_.g=function(){if(typeof h=="object")return h;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),_.o=(t,c)=>Object.prototype.hasOwnProperty.call(t,c),_.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};_.O.j=g=>t[g]===0;var c=(g,m)=>{var d,f,[N,S,I]=m,M=0;if(N.some(D=>t[D]!==0)){for(d in S)_.o(S,d)&&(_.m[d]=S[d]);if(I)var F=I(_)}for(g&&g(m);M<N.length;M++)f=N[M],_.o(t,f)&&t[f]&&t[f][0](),t[f]=0;return _.O(F)},a=l.webpackChunk_N_E=l.webpackChunk_N_E||[];a.forEach(c.bind(null,0)),a.push=c.bind(null,a.push.bind(a))})()})(),(l.webpackChunk_N_E=l.webpackChunk_N_E||[]).push([[531],{3131:Qe,2034:Ze,6443:ze,2501:Je,7649:Ye,552:Xe,8789:Ve,391:Ge,3326:We,4303:qe,7959:De,8610:He,6265:Ue,6087:Le,8690:Ke,2403:Be,8024:je,8997:Fe,8427:Me,7460:$e,2860:Ie,2113:Pe,2738:Ce,5027:Oe,6839:Ae,7398:Se,7257:we,74:be,9307:Ee,4414:Te,7894:ve,7114:Re,9814:Ne,3:xe,5403:ke,3628:fe,9614:me,5612:ye,2780:ge,1548:he}]),(l.webpackChunk_N_E=l.webpackChunk_N_E||[]).push([[703],{2328:mt,1616:yt,5257:gt,5514:ht,641:dt,3109:lt,5767:pt,6617:ut,5376:ct,1673:it,1812:st,8978:_t,3412:ot,4123:rt,9859:nt,6765:at,8536:tt,5524:et}]),(l.webpackChunk_N_E=l.webpackChunk_N_E||[]).push([[171],{2067:de,6195:le,3397:(T,E,_)=>{"use strict";_.r(E),_.d(E,{ComponentMod:()=>Y,default:()=>J});var t={};_.r(t),_.d(t,{GET:()=>M,runtime:()=>f});var c={};_.r(c),_.d(c,{originalPathname:()=>V,patchFetch:()=>X,requestAsyncStorage:()=>D,routeModule:()=>F,serverHooks:()=>j,staticGenerationAsyncStorage:()=>L});var a=_(3109),g=_(5514),m=_(2860),d=_(2113);let f="edge";function N(B){if(B)return{us:"USA",ca:"CAN",mx:"MEX",gb:"GBR",uk:"GBR",de:"DEU",fr:"FRA",es:"ESP",it:"ITA",nl:"NLD",se:"SWE",no:"NOR",fi:"FIN",dk:"DNK",au:"AUS",nz:"NZL",jp:"JPN",cn:"CHN",in:"IND",br:"BRA",ar:"ARG",cl:"CHL",co:"COL",pe:"PER",ru:"RUS",ua:"UKR",za:"ZAF"}[B.toLowerCase()]||B.toUpperCase()}let S={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","District of Columbia":"DC"},I={Alberta:"AB","British Columbia":"BC",Manitoba:"MB","New Brunswick":"NB","Newfoundland and Labrador":"NL","Nova Scotia":"NS",Ontario:"ON","Prince Edward Island":"PE",Quebec:"QC",Saskatchewan:"SK","Northwest Territories":"NT",Nunavut:"NU",Yukon:"YT"};async function M(B){let{searchParams:G}=new URL(B.url),A=(G.get("q")||"").trim(),$=Math.min(50,Math.max(1,Number(G.get("limit")||15)));if(!A||A.length<2)return new Response(JSON.stringify({results:[]}),{headers:{"content-type":"application/json"}});try{try{let p=`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(A)}&count=${$}&language=en&format=json`,o=await fetch(p,{headers:{Accept:"application/json"}});if(o.ok){let R=await o.json(),b=(R?.results??[]).map(i=>{let x=(i.name||"").toString(),w=(i.admin1||"").toString(),P=(i.country_code||"").toString(),U=(i.feature_code||"").toString();if(!x||!P||!U||!U.startsWith("PPL"))return null;let K=N(P);return{name:[x.replace(/\s*\(.*?\)\s*/g,"").replace(/\s+-\s+.*/g,"").trim(),w||void 0,K].filter(Boolean).join(", "),lat:Number(i.latitude),lng:Number(i.longitude),pop:Number(i.population)||0}}).filter(Boolean),y=new Map;for(let i of b){let x=i.name.toLowerCase(),w=y.get(x);(!w||i.pop>w.pop)&&y.set(x,i)}let v=Array.from(y.values()).slice(0,$).map(({pop:i,...x})=>x);if(v.length>0)return new Response(JSON.stringify({results:v}),{headers:{"content-type":"application/json"}})}}catch{}try{let p=`https://geodb-free-service.wirefreethought.com/v1/geo/cities?namePrefix=${encodeURIComponent(A)}&limit=${$}&sort=-population&hateoasMode=false&languageCode=en`,o=await fetch(p,{headers:{Accept:"application/json"}});if(o.ok){let R=await o.json(),b=(R?.data??[]).map(i=>{let x=typeof i.countryCode=="string"?i.countryCode:void 0,w=N(x),P=typeof i.regionCode=="string"?i.regionCode:void 0,U=typeof i.region=="string"?i.region:void 0,K=(P||U||"").toString().toUpperCase(),q=(i.city||"").toString();return q&&w?{name:[q.replace(/\s*\(.*?\)\s*/g,"").replace(/\s+-\s+.*/g,"").trim(),K,w].filter(Boolean).join(", "),lat:Number(i.latitude),lng:Number(i.longitude),pop:Number(i.population)||0}:null}).filter(Boolean),y=new Map;for(let i of b){let x=i.name.toLowerCase(),w=y.get(x);(!w||i.pop>w.pop)&&y.set(x,i)}let v=Array.from(y.values()).slice(0,$).map(({pop:i,...x})=>x);if(v.length>0)return new Response(JSON.stringify({results:v}),{headers:{"content-type":"application/json"}})}}catch{}let C=`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=${$}&q=${encodeURIComponent(A)}&class=place&email=noreply@bitsbarter.app`,e=await fetch(C,{headers:{Accept:"application/json","User-Agent":"bitsbarter/1.0 (+https://bitsbarter.app)"}}),u=(await e.json()).map(p=>{let o=p.address||{},R=(p.type||"").toString();if(!new Set(["city","town","village","municipality","locality"]).has(R))return null;let b=o.country_code,y=N(b),v=o["ISO3166-2-lvl4"]||o["ISO3166-2-lvl6"]||o["ISO3166-2-lvl3"],i=function(U,K,q){if(!K)return;let ee=(U||"").toLowerCase();if(q){let te=q.split("-");if(te.length===2)return te[1].toUpperCase()}return ee==="us"?S[K]||void 0:ee==="ca"&&I[K]||void 0}(b,o.state,v),x=o.city||o.town||o.village||o.municipality||o.locality||"";if(!x)return null;let w=String(x).replace(/\s*\(.*?\)\s*/g,"").replace(/\s+-\s+.*/g,"").trim(),P=[];return w&&P.push(w),i?P.push(i):o.state&&P.push(String(o.state)),y&&P.push(y),{name:P.filter(Boolean).join(", "),lat:Number(p.lat),lng:Number(p.lon),importance:typeof p.importance=="number"?p.importance:0}}).filter(Boolean),r=new Map;for(let p of u){let o=p.name.toLowerCase(),R=r.get(o);(!R||p.importance>R.importance)&&r.set(o,p)}let s=Array.from(r.values()).sort((p,o)=>o.importance-p.importance).slice(0,$).map(({importance:p,...o})=>o);return new Response(JSON.stringify({results:s}),{headers:{"content-type":"application/json"}})}catch{return new Response(JSON.stringify({results:[]}),{headers:{"content-type":"application/json"},status:200})}}let F=new g.AppRouteRouteModule({definition:{kind:m.x.APP_ROUTE,page:"/api/places/route",pathname:"/api/places",filename:"route",bundlePath:"app/api/places/route"},resolvedPagePath:"/Users/georgedanayan/Bitboard/src/app/api/places/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:D,staticGenerationAsyncStorage:L,serverHooks:j}=F,V="/api/places/route";function X(){return(0,d.XH)({serverHooks:j,staticGenerationAsyncStorage:L})}let Y=c,J=a.a.wrap(F)}},T=>{var E=t=>T(T.s=t);T.O(0,[531,703],()=>E(3397));var _=T.O();(h._ENTRIES=typeof h._ENTRIES>"u"?{}:h._ENTRIES)["middleware_app/api/places/route"]=_}]),function(){let T={exports:{},loaded:!1};return function(_,t){var c=Object.create,a=Object.defineProperty,g=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,d=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,N=e=>a(e,"__esModule",{value:!0}),S=(e,u)=>{N(e);for(var r in u)a(e,r,{get:u[r],enumerable:!0})},I=(e,u,r)=>{if(u&&typeof u=="object"||typeof u=="function")for(let s of m(u))!f.call(e,s)&&s!=="default"&&a(e,s,{get:()=>u[s],enumerable:!(r=g(u,s))||r.enumerable});return e},M=e=>I(N(a(e!=null?c(d(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);S(t,{default:()=>G});var F=M((ne(),ie(W))),D="@next/request-context",L=Symbol.for(D),j=Symbol.for("internal.storage");function V(){let e=h;if(!e[L]){let u=new F.AsyncLocalStorage,r={get:()=>u.getStore(),[j]:u};e[L]=r}return e[L]}var X=V();function Y(e,u){return X[j].run(e,u)}function J(e){let u={};return e&&e.forEach((r,s)=>{u[s]=r,s.toLowerCase()==="set-cookie"&&(u[s]=B(r))}),u}function B(e){let u=[],r=0,s,p,o,R,b;function y(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function v(){return p=e.charAt(r),p!=="="&&p!==";"&&p!==","}for(;r<e.length;){for(s=r,b=!1;y();)if(p=e.charAt(r),p===","){for(o=r,r+=1,y(),R=r;r<e.length&&v();)r+=1;r<e.length&&e.charAt(r)==="="?(b=!0,r=R,u.push(e.substring(s,o)),s=r):r=o+1}else r+=1;(!b||r>=e.length)&&u.push(e.substring(s,e.length))}return u}function G(e){let u=e.staticRoutes.map(s=>({regexp:new RegExp(s.namedRegex),page:s.page})),r=e.dynamicRoutes?.map(s=>({regexp:new RegExp(s.namedRegex),page:s.page}))||[];return async function(s,p){let o=new URL(s.url).pathname,R={};if(e.nextConfig?.basePath&&o.startsWith(e.nextConfig.basePath)&&(o=o.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let y of e.nextConfig.i18n.locales){let v=new RegExp(`^/${y}($|/)`,"i");if(o.match(v)){o=o.replace(v,"/")||"/";break}}for(let y of u)if(y.regexp.exec(o)){R.name=y.page;break}if(!R.name){let y=$(o);for(let v of r||[]){if(y&&!$(v.page))continue;let i=v.regexp.exec(o);if(i){R={name:v.page,params:i.groups};break}}}let b=await Y({waitUntil:p.waitUntil},()=>h._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:s.url,method:s.method,headers:J(s.headers),ip:A(s.headers,C.Ip),geo:{city:A(s.headers,C.City,!0),country:A(s.headers,C.Country,!0),latitude:A(s.headers,C.Latitude),longitude:A(s.headers,C.Longitude),region:A(s.headers,C.Region,!0)},nextConfig:e.nextConfig,page:R,body:s.body}}));return b.waitUntil&&p.waitUntil(b.waitUntil),b.response}}function A(e,u,r=!1){let s=e.get(u)||void 0;return r&&s?decodeURIComponent(s):s}function $(e){return e==="/api"||e.startsWith("/api/")}var C;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(C||(C={}))}(T,T.exports),T.exports}.call({}).default({name:"app/api/places/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/admin",regex:"^/admin(?:/)?$",routeKeys:{},namedRegex:"^/admin(?:/)?$"},{page:"/careers",regex:"^/careers(?:/)?$",routeKeys:{},namedRegex:"^/careers(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/escrow",regex:"^/escrow(?:/)?$",routeKeys:{},namedRegex:"^/escrow(?:/)?$"},{page:"/faq",regex:"^/faq(?:/)?$",routeKeys:{},namedRegex:"^/faq(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/icon.svg",regex:"^/icon\\.svg(?:/)?$",routeKeys:{},namedRegex:"^/icon\\.svg(?:/)?$"},{page:"/notifications",regex:"^/notifications(?:/)?$",routeKeys:{},namedRegex:"^/notifications(?:/)?$"},{page:"/privacy",regex:"^/privacy(?:/)?$",routeKeys:{},namedRegex:"^/privacy(?:/)?$"},{page:"/profile",regex:"^/profile(?:/)?$",routeKeys:{},namedRegex:"^/profile(?:/)?$"},{page:"/safety",regex:"^/safety(?:/)?$",routeKeys:{},namedRegex:"^/safety(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/support",regex:"^/support(?:/)?$",routeKeys:{},namedRegex:"^/support(?:/)?$"},{page:"/terms",regex:"^/terms(?:/)?$",routeKeys:{},namedRegex:"^/terms(?:/)?$"},{page:"/test-settings",regex:"^/test\\-settings(?:/)?$",routeKeys:{},namedRegex:"^/test\\-settings(?:/)?$"}],dynamicRoutes:[{page:"/api/listings/[id]",regex:"^/api/listings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/listings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/users/[username]",regex:"^/api/users/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/api/users/(?<nxtPusername>[^/]+?)(?:/)?$"},{page:"/api/users/[username]/listings",regex:"^/api/users/([^/]+?)/listings(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/api/users/(?<nxtPusername>[^/]+?)/listings(?:/)?$"},{page:"/en/[username]",regex:"^/en/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/en/(?<nxtPusername>[^/]+?)(?:/)?$"},{page:"/profile/[username]",regex:"^/profile/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/profile/(?<nxtPusername>[^/]+?)(?:/)?$"}],nextConfig:{basePath:"",i18n:{locales:["en","fr","es","de"],defaultLocale:"en"}}})))(O,O,O);export{bt as default};
