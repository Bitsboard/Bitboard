var V=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var te=(u,p)=>()=>(u&&(p=u(u=0)),p);var D=(u,p,F,x)=>{if(p&&typeof p=="object"||typeof p=="function")for(let m of Z(p))!ee.call(u,m)&&m!==F&&V(u,m,{get:()=>p[m],enumerable:!(x=Q(p,m))||x.enumerable});return u},U=(u,p,F)=>(D(u,p,"default"),F&&D(F,p,"default"));var _e=u=>D(V({},"__esModule",{value:!0}),u);var K={};import*as Tt from"async_hooks";var Y=te(()=>{U(K,Tt)});import{__getNamedExports as ne}from"../../../../__next-on-pages-dist__/webpack/7889.js";import{__getNamedExports as ae}from"../../../../__next-on-pages-dist__/webpack/65350c40fb927cd816847882c65007ef.js";import{__getNamedExports as re}from"../../../../__next-on-pages-dist__/webpack/d146f456c84ad77aa2bdb7f4ffff385c.js";import{__getNamedExports as oe}from"../../../../__next-on-pages-dist__/webpack/0db62fc21f400f4ff93662ca787c3a50.js";import{__getNamedExports as se}from"../../../../__next-on-pages-dist__/webpack/0406212c5b03d4d7d56d829c11dc80f8.js";import{__getNamedExports as ce}from"../../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var h=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/listings/[id]"),ue=ne(h,h,h),ie=ue.__chunk_7889,z=ae(h,h,h),pe=z.__chunk_5492,le=z.__chunk_3059,J=re(h,h,h),de=J.__chunk_855,he=J.__chunk_3808,a=oe(h,h,h),ge=a.__chunk_6195,ye=a.__chunk_2067,xe=a.__chunk_1548,me=a.__chunk_2780,ke=a.__chunk_5612,fe=a.__chunk_9614,Ne=a.__chunk_3628,ve=a.__chunk_5403,Re=a.__chunk_3,Ee=a.__chunk_9814,Te=a.__chunk_7114,be=a.__chunk_7894,Oe=a.__chunk_4414,we=a.__chunk_9307,Ae=a.__chunk_74,Pe=a.__chunk_7257,Se=a.__chunk_7398,$e=a.__chunk_6839,Ie=a.__chunk_5027,Fe=a.__chunk_2738,Ce=a.__chunk_2113,Me=a.__chunk_2860,Ke=a.__chunk_7460,je=a.__chunk_8427,Be=a.__chunk_8997,He=a.__chunk_8024,Le=a.__chunk_2403,qe=a.__chunk_8690,De=a.__chunk_6087,Ue=a.__chunk_6265,We=a.__chunk_8610,Xe=a.__chunk_7959,Ge=a.__chunk_4303,Ve=a.__chunk_3326,Ye=a.__chunk_391,ze=a.__chunk_8789,Je=a.__chunk_552,Qe=a.__chunk_7649,Ze=a.__chunk_2501,et=a.__chunk_6443,tt=a.__chunk_2034,_t=a.__chunk_3131,y=se(h,h,h),nt=y.__chunk_5524,at=y.__chunk_8536,rt=y.__chunk_6765,ot=y.__chunk_9859,st=y.__chunk_4123,ct=y.__chunk_3412,ut=y.__chunk_8978,it=y.__chunk_1812,pt=y.__chunk_1673,lt=y.__chunk_5376,dt=y.__chunk_6617,ht=y.__chunk_5767,gt=y.__chunk_3109,yt=y.__chunk_641,xt=y.__chunk_5514,mt=y.__chunk_5257,kt=y.__chunk_1616,ft=y.__chunk_2328,W=ce(h,h,h),Nt=W.__NEXT_FONT_MANIFEST,vt=W.__REACT_LOADABLE_MANIFEST,Rt=W.__BUILD_MANIFEST,$t=((u,p,F)=>(p._ENTRIES={},u.__BUILD_MANIFEST=Rt,u.__REACT_LOADABLE_MANIFEST=vt,u.__NEXT_FONT_MANIFEST=Nt,u.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",u.__PRERENDER_MANIFEST='{"version":4,"routes":{"/admin":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/page,_N_T_/admin"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin","dataRoute":"/admin.rsc"},"/faq":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/faq/layout,_N_T_/faq/page,_N_T_/faq"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/faq","dataRoute":"/faq.rsc"},"/":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/page,_N_T_/"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/","dataRoute":"/index.rsc"},"/icon.svg":{"initialHeaders":{"cache-control":"public, immutable, no-transform, max-age=31536000","content-type":"image/svg+xml","x-next-cache-tags":"_N_T_/layout,_N_T_/icon.svg/layout,_N_T_/icon.svg/route,_N_T_/icon.svg"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/icon.svg","dataRoute":null},"/contact":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/contact/layout,_N_T_/contact/page,_N_T_/contact"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/contact","dataRoute":"/contact.rsc"},"/about":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/about/layout,_N_T_/about/page,_N_T_/about"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/about","dataRoute":"/about.rsc"},"/help":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/help/layout,_N_T_/help/page,_N_T_/help"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/help","dataRoute":"/help.rsc"},"/privacy":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/privacy/layout,_N_T_/privacy/page,_N_T_/privacy"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/privacy","dataRoute":"/privacy.rsc"},"/careers":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/careers/layout,_N_T_/careers/page,_N_T_/careers"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/careers","dataRoute":"/careers.rsc"},"/escrow":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/escrow/layout,_N_T_/escrow/page,_N_T_/escrow"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/escrow","dataRoute":"/escrow.rsc"},"/safety":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/safety/layout,_N_T_/safety/page,_N_T_/safety"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/safety","dataRoute":"/safety.rsc"},"/support":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/support/layout,_N_T_/support/page,_N_T_/support"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/support","dataRoute":"/support.rsc"},"/test-settings":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/test-settings/layout,_N_T_/test-settings/page,_N_T_/test-settings"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/test-settings","dataRoute":"/test-settings.rsc"},"/terms":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/terms/layout,_N_T_/terms/page,_N_T_/terms"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/terms","dataRoute":"/terms.rsc"},"/notifications":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/notifications/layout,_N_T_/notifications/page,_N_T_/notifications"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/notifications","dataRoute":"/notifications.rsc"}},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var x={},m={};function _(t){var s=m[t];if(s!==void 0)return s.exports;var n=m[t]={exports:{}},l=!0;try{x[t](n,n.exports,_),l=!1}finally{l&&delete m[t]}return n.exports}_.m=x,_.amdO={},(()=>{var t=[];_.O=(s,n,l,g)=>{if(n){g=g||0;for(var i=t.length;i>0&&t[i-1][2]>g;i--)t[i]=t[i-1];t[i]=[n,l,g];return}for(var d=1/0,i=0;i<t.length;i++){for(var[n,l,g]=t[i],k=!0,N=0;N<n.length;N++)d>=g&&Object.keys(_.O).every(I=>_.O[I](n[N]))?n.splice(N--,1):(k=!1,g<d&&(d=g));if(k){t.splice(i--,1);var v=l();v!==void 0&&(s=v)}}return s}})(),_.n=t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return _.d(s,{a:s}),s},(()=>{var t,s=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__;_.t=function(n,l){if(1&l&&(n=this(n)),8&l||typeof n=="object"&&n&&(4&l&&n.__esModule||16&l&&typeof n.then=="function"))return n;var g=Object.create(null);_.r(g);var i={};t=t||[null,s({}),s([]),s(s)];for(var d=2&l&&n;typeof d=="object"&&!~t.indexOf(d);d=s(d))Object.getOwnPropertyNames(d).forEach(k=>i[k]=()=>n[k]);return i.default=()=>n,_.d(g,i),g}})(),_.d=(t,s)=>{for(var n in s)_.o(s,n)&&!_.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},_.e=()=>Promise.resolve(),_.g=function(){if(typeof p=="object")return p;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),_.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),_.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};_.O.j=l=>t[l]===0;var s=(l,g)=>{var i,d,[k,N,v]=g,w=0;if(k.some($=>t[$]!==0)){for(i in N)_.o(N,i)&&(_.m[i]=N[i]);if(v)var S=v(_)}for(l&&l(g);w<k.length;w++)d=k[w],_.o(t,d)&&t[d]&&t[d][0](),t[d]=0;return _.O(S)},n=u.webpackChunk_N_E=u.webpackChunk_N_E||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))})()})(),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[531],{3131:_t,2034:tt,6443:et,2501:Ze,7649:Qe,552:Je,8789:ze,391:Ye,3326:Ve,4303:Ge,7959:Xe,8610:We,6265:Ue,6087:De,8690:qe,2403:Le,8024:He,8997:Be,8427:je,7460:Ke,2860:Me,2113:Ce,2738:Fe,5027:Ie,6839:$e,7398:Se,7257:Pe,74:Ae,9307:we,4414:Oe,7894:be,7114:Te,9814:Ee,3:Re,5403:ve,3628:Ne,9614:fe,5612:ke,2780:me,1548:xe}]),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[703],{2328:ft,1616:kt,5257:mt,5514:xt,641:yt,3109:gt,5767:ht,6617:dt,5376:lt,1673:pt,1812:it,8978:ut,3412:ct,4123:st,9859:ot,6765:rt,8536:at,5524:nt}]),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[757,39],{2067:ye,6195:ge,2212:(x,m,_)=>{"use strict";_.r(m),_.d(m,{ComponentMod:()=>B,default:()=>H});var t={};_.r(t),_.d(t,{DELETE:()=>N,runtime:()=>k});var s={};_.r(s),_.d(s,{originalPathname:()=>C,patchFetch:()=>I,requestAsyncStorage:()=>w,routeModule:()=>v,serverHooks:()=>$,staticGenerationAsyncStorage:()=>S});var n=_(3109),l=_(5514),g=_(2860),i=_(2113);_(7889);var d=_(5492);let k="edge";async function N(X,{params:L}){let M=await Promise.resolve().then(_.t.bind(_,3808,23)).catch(()=>null);if(!M||typeof M.getRequestContext!="function")return d.xk.json({error:"@cloudflare/next-on-pages not available"},{status:500});let q=M.getRequestContext().env.DB,R=Number(L.id);if(!Number.isInteger(R)||R<1)return d.xk.json({error:"invalid id"},{status:400});let j=await q.prepare("DELETE FROM listings WHERE id = ?").bind(R).run(),E=j.meta?.changes??0;return d.xk.json({ok:E>0})}let v=new l.AppRouteRouteModule({definition:{kind:g.x.APP_ROUTE,page:"/api/listings/[id]/route",pathname:"/api/listings/[id]",filename:"route",bundlePath:"app/api/listings/[id]/route"},resolvedPagePath:"/Users/georgedanayan/Bitboard/src/app/api/listings/[id]/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:w,staticGenerationAsyncStorage:S,serverHooks:$}=v,C="/api/listings/[id]/route";function I(){return(0,i.XH)({serverHooks:$,staticGenerationAsyncStorage:S})}let B=s,H=n.a.wrap(v)},3808:he,855:de,3059:le,5492:pe,7889:ie},x=>{var m=t=>x(x.s=t);x.O(0,[531,703],()=>m(2212));var _=x.O();(p._ENTRIES=typeof p._ENTRIES>"u"?{}:p._ENTRIES)["middleware_app/api/listings/[id]/route"]=_}]),function(){let x={exports:{},loaded:!1};return function(_,t){var s=Object.create,n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,i=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,k=e=>n(e,"__esModule",{value:!0}),N=(e,c)=>{k(e);for(var o in c)n(e,o,{get:c[o],enumerable:!0})},v=(e,c,o)=>{if(c&&typeof c=="object"||typeof c=="function")for(let r of g(c))!d.call(e,r)&&r!=="default"&&n(e,r,{get:()=>c[r],enumerable:!(o=l(c,r))||o.enumerable});return e},w=e=>v(k(n(e!=null?s(i(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);N(t,{default:()=>q});var S=w((Y(),_e(K))),$="@next/request-context",C=Symbol.for($),I=Symbol.for("internal.storage");function B(){let e=p;if(!e[C]){let c=new S.AsyncLocalStorage,o={get:()=>c.getStore(),[I]:c};e[C]=o}return e[C]}var H=B();function X(e,c){return H[I].run(e,c)}function L(e){let c={};return e&&e.forEach((o,r)=>{c[r]=o,r.toLowerCase()==="set-cookie"&&(c[r]=M(o))}),c}function M(e){let c=[],o=0,r,T,f,A,P;function b(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function O(){return T=e.charAt(o),T!=="="&&T!==";"&&T!==","}for(;o<e.length;){for(r=o,P=!1;b();)if(T=e.charAt(o),T===","){for(f=o,o+=1,b(),A=o;o<e.length&&O();)o+=1;o<e.length&&e.charAt(o)==="="?(P=!0,o=A,c.push(e.substring(r,f)),r=o):o=f+1}else o+=1;(!P||o>=e.length)&&c.push(e.substring(r,e.length))}return c}function q(e){let c=e.staticRoutes.map(r=>({regexp:new RegExp(r.namedRegex),page:r.page})),o=e.dynamicRoutes?.map(r=>({regexp:new RegExp(r.namedRegex),page:r.page}))||[];return async function(r,T){let f=new URL(r.url).pathname,A={};if(e.nextConfig?.basePath&&f.startsWith(e.nextConfig.basePath)&&(f=f.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let b of e.nextConfig.i18n.locales){let O=new RegExp(`^/${b}($|/)`,"i");if(f.match(O)){f=f.replace(O,"/")||"/";break}}for(let b of c)if(b.regexp.exec(f)){A.name=b.page;break}if(!A.name){let b=j(f);for(let O of o||[]){if(b&&!j(O.page))continue;let G=O.regexp.exec(f);if(G){A={name:O.page,params:G.groups};break}}}let P=await X({waitUntil:T.waitUntil},()=>p._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:r.url,method:r.method,headers:L(r.headers),ip:R(r.headers,E.Ip),geo:{city:R(r.headers,E.City,!0),country:R(r.headers,E.Country,!0),latitude:R(r.headers,E.Latitude),longitude:R(r.headers,E.Longitude),region:R(r.headers,E.Region,!0)},nextConfig:e.nextConfig,page:A,body:r.body}}));return P.waitUntil&&T.waitUntil(P.waitUntil),P.response}}function R(e,c,o=!1){let r=e.get(c)||void 0;return o&&r?decodeURIComponent(r):r}function j(e){return e==="/api"||e.startsWith("/api/")}var E;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(E||(E={}))}(x,x.exports),x.exports}.call({}).default({name:"app/api/listings/[id]/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/admin",regex:"^/admin(?:/)?$",routeKeys:{},namedRegex:"^/admin(?:/)?$"},{page:"/careers",regex:"^/careers(?:/)?$",routeKeys:{},namedRegex:"^/careers(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/escrow",regex:"^/escrow(?:/)?$",routeKeys:{},namedRegex:"^/escrow(?:/)?$"},{page:"/faq",regex:"^/faq(?:/)?$",routeKeys:{},namedRegex:"^/faq(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/icon.svg",regex:"^/icon\\.svg(?:/)?$",routeKeys:{},namedRegex:"^/icon\\.svg(?:/)?$"},{page:"/notifications",regex:"^/notifications(?:/)?$",routeKeys:{},namedRegex:"^/notifications(?:/)?$"},{page:"/privacy",regex:"^/privacy(?:/)?$",routeKeys:{},namedRegex:"^/privacy(?:/)?$"},{page:"/safety",regex:"^/safety(?:/)?$",routeKeys:{},namedRegex:"^/safety(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/support",regex:"^/support(?:/)?$",routeKeys:{},namedRegex:"^/support(?:/)?$"},{page:"/terms",regex:"^/terms(?:/)?$",routeKeys:{},namedRegex:"^/terms(?:/)?$"},{page:"/test-settings",regex:"^/test\\-settings(?:/)?$",routeKeys:{},namedRegex:"^/test\\-settings(?:/)?$"}],dynamicRoutes:[{page:"/api/listings/[id]",regex:"^/api/listings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/listings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/users/[username]",regex:"^/api/users/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/api/users/(?<nxtPusername>[^/]+?)(?:/)?$"},{page:"/api/users/[username]/listings",regex:"^/api/users/([^/]+?)/listings(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/api/users/(?<nxtPusername>[^/]+?)/listings(?:/)?$"},{page:"/en/[username]",regex:"^/en/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/en/(?<nxtPusername>[^/]+?)(?:/)?$"},{page:"/profile/[username]",regex:"^/profile/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/profile/(?<nxtPusername>[^/]+?)(?:/)?$"}],nextConfig:{basePath:"",i18n:{locales:["en","fr","es","de"],defaultLocale:"en"}}})))(h,h,h);export{$t as default};
