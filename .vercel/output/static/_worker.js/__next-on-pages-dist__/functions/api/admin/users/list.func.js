var W=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var ee=(c,d)=>()=>(c&&(d=c(c=0)),d);var D=(c,d,M,y)=>{if(d&&typeof d=="object"||typeof d=="function")for(let x of Q(d))!Z.call(c,x)&&x!==M&&W(c,x,{get:()=>d[x],enumerable:!(y=z(d,x))||y.enumerable});return c},G=(c,d,M)=>(D(c,d,"default"),M&&D(M,d,"default"));var te=c=>D(W({},"__esModule",{value:!0}),c);var U={};import*as Tt from"async_hooks";var J=ee(()=>{G(U,Tt)});import{__getNamedExports as ae}from"../../../../../__next-on-pages-dist__/webpack/8084.js";import{__getNamedExports as se}from"../../../../../__next-on-pages-dist__/webpack/8080.js";import{__getNamedExports as ne}from"../../../../../__next-on-pages-dist__/webpack/d146f456c84ad77aa2bdb7f4ffff385c.js";import{__getNamedExports as _e}from"../../../../../__next-on-pages-dist__/webpack/0db62fc21f400f4ff93662ca787c3a50.js";import{__getNamedExports as re}from"../../../../../__next-on-pages-dist__/webpack/0406212c5b03d4d7d56d829c11dc80f8.js";import{__getNamedExports as ie}from"../../../../../__next-on-pages-dist__/manifest/27d10e462fba646daaa29468a0656e12.js";var l=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/admin/users/list"),oe=ae(l,l,l),ce=oe.__chunk_8084,ue=se(l,l,l),de=ue.__chunk_8080,V=ne(l,l,l),pe=V.__chunk_855,le=V.__chunk_3808,n=_e(l,l,l),ge=n.__chunk_6195,he=n.__chunk_2067,me=n.__chunk_1548,ye=n.__chunk_2780,xe=n.__chunk_5612,ke=n.__chunk_9614,fe=n.__chunk_3628,Ne=n.__chunk_5403,Re=n.__chunk_3,Ee=n.__chunk_9814,Te=n.__chunk_7114,ve=n.__chunk_7894,Se=n.__chunk_4414,Ae=n.__chunk_9307,Oe=n.__chunk_74,be=n.__chunk_7257,$e=n.__chunk_7398,Pe=n.__chunk_6839,Ce=n.__chunk_5027,Ie=n.__chunk_2738,we=n.__chunk_2113,Fe=n.__chunk_2860,Le=n.__chunk_7460,Me=n.__chunk_8427,Ke=n.__chunk_8997,Ue=n.__chunk_8024,Be=n.__chunk_2403,He=n.__chunk_8690,je=n.__chunk_6087,qe=n.__chunk_6265,De=n.__chunk_8610,Ge=n.__chunk_7959,Ye=n.__chunk_4303,Xe=n.__chunk_3326,We=n.__chunk_391,Je=n.__chunk_8789,Ve=n.__chunk_552,ze=n.__chunk_7649,Qe=n.__chunk_2501,Ze=n.__chunk_6443,et=n.__chunk_2034,tt=n.__chunk_3131,m=re(l,l,l),at=m.__chunk_5524,st=m.__chunk_8536,nt=m.__chunk_6765,_t=m.__chunk_9859,rt=m.__chunk_4123,it=m.__chunk_3412,ot=m.__chunk_8978,ct=m.__chunk_1812,ut=m.__chunk_1673,dt=m.__chunk_5376,pt=m.__chunk_6617,lt=m.__chunk_5767,gt=m.__chunk_3109,ht=m.__chunk_641,mt=m.__chunk_5514,yt=m.__chunk_5257,xt=m.__chunk_1616,kt=m.__chunk_2328,Y=ie(l,l,l),ft=Y.__NEXT_FONT_MANIFEST,Nt=Y.__REACT_LOADABLE_MANIFEST,Rt=Y.__BUILD_MANIFEST,Pt=((c,d,M)=>(d._ENTRIES={},c.__BUILD_MANIFEST=Rt,c.__REACT_LOADABLE_MANIFEST=Nt,c.__NEXT_FONT_MANIFEST=ft,c.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",c.__PRERENDER_MANIFEST='{"version":4,"routes":{"/admin/users":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/users/layout,_N_T_/admin/users/page,_N_T_/admin/users"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin/users","dataRoute":"/admin/users.rsc"},"/contact":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/contact/layout,_N_T_/contact/page,_N_T_/contact"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/contact","dataRoute":"/contact.rsc"},"/careers":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/careers/layout,_N_T_/careers/page,_N_T_/careers"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/careers","dataRoute":"/careers.rsc"},"/escrow":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/escrow/layout,_N_T_/escrow/page,_N_T_/escrow"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/escrow","dataRoute":"/escrow.rsc"},"/about":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/about/layout,_N_T_/about/page,_N_T_/about"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/about","dataRoute":"/about.rsc"},"/faq":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/faq/layout,_N_T_/faq/page,_N_T_/faq"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/faq","dataRoute":"/faq.rsc"},"/help":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/help/layout,_N_T_/help/page,_N_T_/help"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/help","dataRoute":"/help.rsc"},"/":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/page,_N_T_/"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/","dataRoute":"/index.rsc"},"/privacy":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/privacy/layout,_N_T_/privacy/page,_N_T_/privacy"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/privacy","dataRoute":"/privacy.rsc"},"/safety":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/safety/layout,_N_T_/safety/page,_N_T_/safety"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/safety","dataRoute":"/safety.rsc"},"/admin":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/page,_N_T_/admin"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin","dataRoute":"/admin.rsc"},"/support":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/support/layout,_N_T_/support/page,_N_T_/support"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/support","dataRoute":"/support.rsc"},"/terms":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/terms/layout,_N_T_/terms/page,_N_T_/terms"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/terms","dataRoute":"/terms.rsc"},"/test-settings":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/test-settings/layout,_N_T_/test-settings/page,_N_T_/test-settings"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/test-settings","dataRoute":"/test-settings.rsc"},"/admin/listings":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/listings/layout,_N_T_/admin/listings/page,_N_T_/admin/listings"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin/listings","dataRoute":"/admin/listings.rsc"},"/auth-success":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/auth-success/layout,_N_T_/auth-success/page,_N_T_/auth-success"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/auth-success","dataRoute":"/auth-success.rsc"},"/admin/chats":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/admin/layout,_N_T_/admin/chats/layout,_N_T_/admin/chats/page,_N_T_/admin/chats"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/admin/chats","dataRoute":"/admin/chats.rsc"},"/icon.svg":{"initialHeaders":{"cache-control":"public, immutable, no-transform, max-age=31536000","content-type":"image/svg+xml","x-next-cache-tags":"_N_T_/layout,_N_T_/icon.svg/layout,_N_T_/icon.svg/route,_N_T_/icon.svg"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/icon.svg","dataRoute":null},"/messages":{"initialHeaders":{"x-next-cache-tags":"_N_T_/layout,_N_T_/messages/layout,_N_T_/messages/page,_N_T_/messages"},"experimentalBypassFor":[{"type":"header","key":"Next-Action"},{"type":"header","key":"content-type","value":"multipart/form-data;.*"}],"initialRevalidateSeconds":false,"srcRoute":"/messages","dataRoute":"/messages.rsc"}},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"process.env.__NEXT_PREVIEW_MODE_ID","previewModeSigningKey":"process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY","previewModeEncryptionKey":"process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY"}}',(()=>{"use strict";var y={},x={};function _(t){var i=x[t];if(i!==void 0)return i.exports;var s=x[t]={exports:{}},p=!0;try{y[t](s,s.exports,_),p=!1}finally{p&&delete x[t]}return s.exports}_.m=y,_.amdO={},(()=>{var t=[];_.O=(i,s,p,g)=>{if(s){g=g||0;for(var u=t.length;u>0&&t[u-1][2]>g;u--)t[u]=t[u-1];t[u]=[s,p,g];return}for(var h=1/0,u=0;u<t.length;u++){for(var[s,p,g]=t[u],f=!0,N=0;N<s.length;N++)h>=g&&Object.keys(_.O).every(L=>_.O[L](s[N]))?s.splice(N--,1):(f=!1,g<h&&(h=g));if(f){t.splice(u--,1);var R=p();R!==void 0&&(i=R)}}return i}})(),_.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return _.d(i,{a:i}),i},(()=>{var t,i=Object.getPrototypeOf?s=>Object.getPrototypeOf(s):s=>s.__proto__;_.t=function(s,p){if(1&p&&(s=this(s)),8&p||typeof s=="object"&&s&&(4&p&&s.__esModule||16&p&&typeof s.then=="function"))return s;var g=Object.create(null);_.r(g);var u={};t=t||[null,i({}),i([]),i(i)];for(var h=2&p&&s;typeof h=="object"&&!~t.indexOf(h);h=i(h))Object.getOwnPropertyNames(h).forEach(f=>u[f]=()=>s[f]);return u.default=()=>s,_.d(g,u),g}})(),_.d=(t,i)=>{for(var s in i)_.o(i,s)&&!_.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},_.e=()=>Promise.resolve(),_.g=function(){if(typeof d=="object")return d;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),_.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),_.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={5993:0};_.O.j=p=>t[p]===0;var i=(p,g)=>{var u,h,[f,N,R]=g,I=0;if(f.some(F=>t[F]!==0)){for(u in N)_.o(N,u)&&(_.m[u]=N[u]);if(R)var w=R(_)}for(p&&p(g);I<f.length;I++)h=f[I],_.o(t,h)&&t[h]&&t[h][0](),t[h]=0;return _.O(w)},s=c.webpackChunk_N_E=c.webpackChunk_N_E||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))})()})(),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[9531],{3131:tt,2034:et,6443:Ze,2501:Qe,7649:ze,552:Ve,8789:Je,391:We,3326:Xe,4303:Ye,7959:Ge,8610:De,6265:qe,6087:je,8690:He,2403:Be,8024:Ue,8997:Ke,8427:Me,7460:Le,2860:Fe,2113:we,2738:Ie,5027:Ce,6839:Pe,7398:$e,7257:be,74:Oe,9307:Ae,4414:Se,7894:ve,7114:Te,9814:Ee,3:Re,5403:Ne,3628:fe,9614:ke,5612:xe,2780:ye,1548:me}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[2703],{2328:kt,1616:xt,5257:yt,5514:mt,641:ht,3109:gt,5767:lt,6617:pt,5376:dt,1673:ut,1812:ct,8978:ot,3412:it,4123:rt,9859:_t,6765:nt,8536:st,5524:at}]),(c.webpackChunk_N_E=c.webpackChunk_N_E||[]).push([[224],{2067:he,6195:ge,9924:(y,x,_)=>{"use strict";_.r(x),_.d(x,{ComponentMod:()=>j,default:()=>q});var t={};_.r(t),_.d(t,{GET:()=>N,runtime:()=>f});var i={};_.r(i),_.d(i,{originalPathname:()=>K,patchFetch:()=>L,requestAsyncStorage:()=>I,routeModule:()=>R,serverHooks:()=>F,staticGenerationAsyncStorage:()=>w});var s=_(3109),p=_(5514),g=_(2860),u=_(2113),h=_(8080);let f="edge";async function N(B){try{let S=new URL(B.url),A=Math.min(100,parseInt(S.searchParams.get("limit")??"20",10)||20),H=Math.max(0,parseInt(S.searchParams.get("offset")??"0",10)||0),P=S.searchParams.get("sortBy")||"createdAt",v=S.searchParams.get("sortOrder")||"desc",E=await(0,h._)(B),e=(S.searchParams.get("q")||"").trim(),o="",r=[];e&&(o="WHERE u.email LIKE ? OR u.username LIKE ?",r.push(`%${e}%`,`%${e}%`));let a="u.created_at DESC";switch(P){case"username":a=`u.username ${v.toUpperCase()}`;break;case"email":a=`u.email ${v.toUpperCase()}`;break;case"listingsCount":a=`listings_count ${v.toUpperCase()}`;break;case"chatsCount":a=`chats_count ${v.toUpperCase()}`;break;case"thumbsUp":a=`u.rating ${v.toUpperCase()}`;break;case"lastActivityAt":a=`last_activity ${v.toUpperCase()}`;break;default:a=`u.created_at ${v.toUpperCase()}`}let T=`
      SELECT 
        u.id,
        u.email,
        u.username,
        u.verified AS isVerified,
        u.is_admin AS isAdmin,
        u.banned AS isBanned,
        u.ban_reason AS banReason,
        u.ban_expires_at AS banExpiresAt,
        u.created_at AS createdAt,
        u.last_login_at AS lastLoginAt,
        COALESCE(listing_stats.listings_count, 0) AS listingsCount,
        COALESCE(chat_stats.chats_count, 0) AS chatsCount,
        COALESCE(message_stats.messages_count, 0) AS messagesCount,
        COALESCE(u.rating, 0) AS thumbsUp,
        COALESCE(u.deals, 0) AS deals,
        COALESCE(listing_stats.total_value, 0) AS totalListingsValue,
        COALESCE(activity_stats.last_activity, 0) AS lastActivityAt
      FROM users u
      LEFT JOIN (
        SELECT 
          posted_by,
          COUNT(*) AS listings_count,
          SUM(price_sat) AS total_value
        FROM listings
        GROUP BY posted_by
      ) listing_stats ON u.id = listing_stats.posted_by
      LEFT JOIN (
        SELECT 
          buyer_id AS user_id,
          COUNT(*) AS chats_count
        FROM chats
        GROUP BY buyer_id
        UNION ALL
        SELECT 
          seller_id AS user_id,
          COUNT(*) AS chats_count
        FROM chats
        GROUP BY seller_id
      ) chat_stats ON u.id = chat_stats.user_id
      LEFT JOIN (
        SELECT 
          from_id,
          COUNT(*) AS messages_count
        FROM messages
        GROUP BY from_id
      ) message_stats ON u.id = message_stats.from_id
      LEFT JOIN (
        SELECT 
          user_id,
          MAX(timestamp) AS last_activity
        FROM (
          SELECT posted_by AS user_id, created_at AS timestamp FROM listings
          UNION ALL
          SELECT from_id AS user_id, created_at AS timestamp FROM messages
        )
        GROUP BY user_id
      ) activity_stats ON u.id = activity_stats.user_id
      ${o}
      ORDER BY ${a}
      LIMIT ? OFFSET ?
    `,k=await E.prepare(T).bind(...r,A,H).all(),O=await E.prepare(`SELECT COUNT(*) AS c FROM users u ${o}`).bind(...r).all(),b=O.results?.[0]?.c??0;return new Response(JSON.stringify({success:!0,users:k.results??[],total:b,page:Math.floor(H/A)+1,limit:A}),{status:200,headers:{"content-type":"application/json"}})}catch(S){let A=S?.message||"error";return new Response(JSON.stringify({error:A}),{status:A==="unauthorized"?401:A==="forbidden"?403:500})}}let R=new p.AppRouteRouteModule({definition:{kind:g.x.APP_ROUTE,page:"/api/admin/users/list/route",pathname:"/api/admin/users/list",filename:"route",bundlePath:"app/api/admin/users/list/route"},resolvedPagePath:"/Users/georgedanayan/Bitboard/src/app/api/admin/users/list/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:I,staticGenerationAsyncStorage:w,serverHooks:F}=R,K="/api/admin/users/list/route";function L(){return(0,u.XH)({serverHooks:F,staticGenerationAsyncStorage:w})}let j=i,q=s.a.wrap(R)},3808:le,855:pe,8080:de,8084:ce},y=>{var x=t=>y(y.s=t);y.O(0,[9531,2703],()=>x(9924));var _=y.O();(d._ENTRIES=typeof d._ENTRIES>"u"?{}:d._ENTRIES)["middleware_app/api/admin/users/list/route"]=_}]),function(){let y={exports:{},loaded:!1};return function(_,t){var i=Object.create,s=Object.defineProperty,p=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,u=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,f=e=>s(e,"__esModule",{value:!0}),N=(e,o)=>{f(e);for(var r in o)s(e,r,{get:o[r],enumerable:!0})},R=(e,o,r)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of g(o))!h.call(e,a)&&a!=="default"&&s(e,a,{get:()=>o[a],enumerable:!(r=p(o,a))||r.enumerable});return e},I=e=>R(f(s(e!=null?i(u(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);N(t,{default:()=>H});var w=I((J(),te(U))),F="@next/request-context",K=Symbol.for(F),L=Symbol.for("internal.storage");function j(){let e=d;if(!e[K]){let o=new w.AsyncLocalStorage,r={get:()=>o.getStore(),[L]:o};e[K]=r}return e[K]}var q=j();function B(e,o){return q[L].run(e,o)}function S(e){let o={};return e&&e.forEach((r,a)=>{o[a]=r,a.toLowerCase()==="set-cookie"&&(o[a]=A(r))}),o}function A(e){let o=[],r=0,a,T,k,O,b;function $(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function C(){return T=e.charAt(r),T!=="="&&T!==";"&&T!==","}for(;r<e.length;){for(a=r,b=!1;$();)if(T=e.charAt(r),T===","){for(k=r,r+=1,$(),O=r;r<e.length&&C();)r+=1;r<e.length&&e.charAt(r)==="="?(b=!0,r=O,o.push(e.substring(a,k)),a=r):r=k+1}else r+=1;(!b||r>=e.length)&&o.push(e.substring(a,e.length))}return o}function H(e){let o=e.staticRoutes.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page})),r=e.dynamicRoutes?.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page}))||[];return async function(a,T){let k=new URL(a.url).pathname,O={};if(e.nextConfig?.basePath&&k.startsWith(e.nextConfig.basePath)&&(k=k.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let $ of e.nextConfig.i18n.locales){let C=new RegExp(`^/${$}($|/)`,"i");if(k.match(C)){k=k.replace(C,"/")||"/";break}}for(let $ of o)if($.regexp.exec(k)){O.name=$.page;break}if(!O.name){let $=v(k);for(let C of r||[]){if($&&!v(C.page))continue;let X=C.regexp.exec(k);if(X){O={name:C.page,params:X.groups};break}}}let b=await B({waitUntil:T.waitUntil},()=>d._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:a.url,method:a.method,headers:S(a.headers),ip:P(a.headers,E.Ip),geo:{city:P(a.headers,E.City,!0),country:P(a.headers,E.Country,!0),latitude:P(a.headers,E.Latitude),longitude:P(a.headers,E.Longitude),region:P(a.headers,E.Region,!0)},nextConfig:e.nextConfig,page:O,body:a.body}}));return b.waitUntil&&T.waitUntil(b.waitUntil),b.response}}function P(e,o,r=!1){let a=e.get(o)||void 0;return r&&a?decodeURIComponent(a):a}function v(e){return e==="/api"||e.startsWith("/api/")}var E;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(E||(E={}))}(y,y.exports),y.exports}.call({}).default({name:"app/api/admin/users/list/route",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/about",regex:"^/about(?:/)?$",routeKeys:{},namedRegex:"^/about(?:/)?$"},{page:"/admin",regex:"^/admin(?:/)?$",routeKeys:{},namedRegex:"^/admin(?:/)?$"},{page:"/admin/chats",regex:"^/admin/chats(?:/)?$",routeKeys:{},namedRegex:"^/admin/chats(?:/)?$"},{page:"/admin/listings",regex:"^/admin/listings(?:/)?$",routeKeys:{},namedRegex:"^/admin/listings(?:/)?$"},{page:"/admin/users",regex:"^/admin/users(?:/)?$",routeKeys:{},namedRegex:"^/admin/users(?:/)?$"},{page:"/auth-success",regex:"^/auth\\-success(?:/)?$",routeKeys:{},namedRegex:"^/auth\\-success(?:/)?$"},{page:"/careers",regex:"^/careers(?:/)?$",routeKeys:{},namedRegex:"^/careers(?:/)?$"},{page:"/contact",regex:"^/contact(?:/)?$",routeKeys:{},namedRegex:"^/contact(?:/)?$"},{page:"/escrow",regex:"^/escrow(?:/)?$",routeKeys:{},namedRegex:"^/escrow(?:/)?$"},{page:"/faq",regex:"^/faq(?:/)?$",routeKeys:{},namedRegex:"^/faq(?:/)?$"},{page:"/help",regex:"^/help(?:/)?$",routeKeys:{},namedRegex:"^/help(?:/)?$"},{page:"/icon.svg",regex:"^/icon\\.svg(?:/)?$",routeKeys:{},namedRegex:"^/icon\\.svg(?:/)?$"},{page:"/messages",regex:"^/messages(?:/)?$",routeKeys:{},namedRegex:"^/messages(?:/)?$"},{page:"/privacy",regex:"^/privacy(?:/)?$",routeKeys:{},namedRegex:"^/privacy(?:/)?$"},{page:"/safety",regex:"^/safety(?:/)?$",routeKeys:{},namedRegex:"^/safety(?:/)?$"},{page:"/search",regex:"^/search(?:/)?$",routeKeys:{},namedRegex:"^/search(?:/)?$"},{page:"/support",regex:"^/support(?:/)?$",routeKeys:{},namedRegex:"^/support(?:/)?$"},{page:"/terms",regex:"^/terms(?:/)?$",routeKeys:{},namedRegex:"^/terms(?:/)?$"},{page:"/test-settings",regex:"^/test\\-settings(?:/)?$",routeKeys:{},namedRegex:"^/test\\-settings(?:/)?$"}],dynamicRoutes:[{page:"/api/admin/chats/[chatId]/messages",regex:"^/api/admin/chats/([^/]+?)/messages(?:/)?$",routeKeys:{nxtPchatId:"nxtPchatId"},namedRegex:"^/api/admin/chats/(?<nxtPchatId>[^/]+?)/messages(?:/)?$"},{page:"/api/admin/listings/[listingId]/chats",regex:"^/api/admin/listings/([^/]+?)/chats(?:/)?$",routeKeys:{nxtPlistingId:"nxtPlistingId"},namedRegex:"^/api/admin/listings/(?<nxtPlistingId>[^/]+?)/chats(?:/)?$"},{page:"/api/admin/listings/[listingId]/images",regex:"^/api/admin/listings/([^/]+?)/images(?:/)?$",routeKeys:{nxtPlistingId:"nxtPlistingId"},namedRegex:"^/api/admin/listings/(?<nxtPlistingId>[^/]+?)/images(?:/)?$"},{page:"/api/admin/users/[userId]/chats",regex:"^/api/admin/users/([^/]+?)/chats(?:/)?$",routeKeys:{nxtPuserId:"nxtPuserId"},namedRegex:"^/api/admin/users/(?<nxtPuserId>[^/]+?)/chats(?:/)?$"},{page:"/api/admin/users/[userId]/listings",regex:"^/api/admin/users/([^/]+?)/listings(?:/)?$",routeKeys:{nxtPuserId:"nxtPuserId"},namedRegex:"^/api/admin/users/(?<nxtPuserId>[^/]+?)/listings(?:/)?$"},{page:"/api/chat/[chatId]",regex:"^/api/chat/([^/]+?)(?:/)?$",routeKeys:{nxtPchatId:"nxtPchatId"},namedRegex:"^/api/chat/(?<nxtPchatId>[^/]+?)(?:/)?$"},{page:"/api/listings/[id]",regex:"^/api/listings/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/listings/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/listings/[id]/view",regex:"^/api/listings/([^/]+?)/view(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/listings/(?<nxtPid>[^/]+?)/view(?:/)?$"},{page:"/api/users/[username]",regex:"^/api/users/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/api/users/(?<nxtPusername>[^/]+?)(?:/)?$"},{page:"/api/users/[username]/listings",regex:"^/api/users/([^/]+?)/listings(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/api/users/(?<nxtPusername>[^/]+?)/listings(?:/)?$"},{page:"/en/[username]",regex:"^/en/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/en/(?<nxtPusername>[^/]+?)(?:/)?$"},{page:"/profile/[username]",regex:"^/profile/([^/]+?)(?:/)?$",routeKeys:{nxtPusername:"nxtPusername"},namedRegex:"^/profile/(?<nxtPusername>[^/]+?)(?:/)?$"}],nextConfig:{basePath:"",i18n:{locales:["en","fr","es","de"],defaultLocale:"en"}}})))(l,l,l);export{Pt as default};
