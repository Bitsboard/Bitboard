(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6807:function(e,n,t){Promise.resolve().then(t.bind(t,1366)),Promise.resolve().then(t.bind(t,9257)),Promise.resolve().then(t.bind(t,8223)),Promise.resolve().then(t.bind(t,6094)),Promise.resolve().then(t.bind(t,858)),Promise.resolve().then(t.bind(t,9966)),Promise.resolve().then(t.bind(t,8011)),Promise.resolve().then(t.bind(t,6896)),Promise.resolve().then(t.bind(t,6096)),Promise.resolve().then(t.bind(t,2662)),Promise.resolve().then(t.bind(t,3779)),Promise.resolve().then(t.bind(t,4189)),Promise.resolve().then(t.bind(t,591)),Promise.resolve().then(t.bind(t,4520)),Promise.resolve().then(t.bind(t,7834)),Promise.resolve().then(t.bind(t,2539)),Promise.resolve().then(t.bind(t,6111)),Promise.resolve().then(t.bind(t,5302)),Promise.resolve().then(t.bind(t,8448)),Promise.resolve().then(t.bind(t,6393)),Promise.resolve().then(t.bind(t,2699)),Promise.resolve().then(t.bind(t,5181)),Promise.resolve().then(t.bind(t,1671)),Promise.resolve().then(t.bind(t,3451)),Promise.resolve().then(t.bind(t,8070)),Promise.resolve().then(t.t.bind(t,5204,23))},1366:function(e,n,t){"use strict";t.d(n,{default:function(){return l}});var o=t(7437),r=t(2265),s=t(8969),i=t(8070);function l(){let[e,n]=(0,r.useState)(!1),[t,l]=(0,r.useState)(void 0),[d,a]=(0,r.useState)(!1),[c,h]=(0,r.useState)(!1),{theme:u,unit:m,layout:v,setUnit:P,setLayout:b,toggleTheme:f}=(0,i.rV)();function w(e){try{let n=new URL(window.location.href);e?n.searchParams.set("new","1"):n.searchParams.delete("new"),window.history.replaceState(null,"",n.toString()),a(e)}catch(e){}}return(0,r.useEffect)(()=>{fetch("/api/auth/session",{cache:"no-store"}).then(e=>e.json()).then(e=>{var t,o;let r=null==e?void 0:e.session;n(!!r),l((null==r?void 0:null===(t=r.user)||void 0===t?void 0:t.image)||(null==r?void 0:null===(o=r.account)||void 0===o?void 0:o.profilePhoto)||void 0)}).catch(()=>n(!1))},[]),(0,r.useEffect)(()=>{try{let e=new URLSearchParams(window.location.search);a("1"===e.get("new"))}catch(e){}},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.JL,{onPost:function(){w(!0)},user:e?{id:"me",email:"",handle:""}:null,onAuth:function(){h(!0)},avatarUrl:t}),d&&(0,o.jsx)(s.Vs,{dark:"dark"===u,onClose:()=>w(!1),onPublish:()=>w(!1)}),c&&(0,o.jsx)(s.Qb,{dark:"dark"===u,onClose:()=>h(!1),onAuthed:()=>h(!1)})]})}},9257:function(e,n,t){"use strict";t.d(n,{LocaleHydrator:function(){return s}});var o=t(2265),r=t(6248);function s(){return(0,o.useEffect)(()=>{try{let e=window.location.pathname.split("/").filter(Boolean)[0];if(e&&["en","fr","es","de"].includes(e)){(0,r.Wg)(e);try{localStorage.setItem("lang",e)}catch(e){}document.documentElement.lang=e;try{let e=localStorage.getItem("theme");"dark"===e?document.documentElement.classList.add("dark"):"light"===e&&document.documentElement.classList.remove("dark")}catch(e){}}}catch(e){}},[]),null}},5204:function(){}},function(e){e.O(0,[846,868,349,248,464,971,526,744],function(){return e(e.s=6807)}),_N_E=e.O()}]);