(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[193],{8219:function(e,t,a){Promise.resolve().then(a.bind(a,3864))},3864:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var r=a(7437),n=a(2265),s=a(8070),l=a(6062),o=a(6248);function i(){let{theme:e}=(0,s.Fg)(),t=(0,l.J)(),[a,i]=(0,n.useState)([]),[c,d]=(0,n.useState)("all"),[u,m]=(0,n.useState)(0);(0,n.useEffect)(()=>{try{let e=localStorage.getItem("notifications");if(e){let t=JSON.parse(e);i(t),m(t.filter(e=>!e.read).length);return}}catch(e){console.warn("Failed to load notifications from localStorage:",e)}let e=[{id:"1",type:"message",title:"New message from John",message:"Hi! I'm interested in your Bitcoin listing. Is it still available? I can meet tomorrow if that works for you.",timestamp:Date.now()-18e5,read:!1,actionUrl:"/chat"},{id:"2",type:"update",title:"Escrow completed",message:"Your transaction with Sarah has been completed successfully. The Bitcoin has been released to your wallet.",timestamp:Date.now()-72e5,read:!1,actionUrl:"/profile"},{id:"3",type:"system",title:"Welcome to bitsbarter!",message:"Your account has been verified. Start trading with Bitcoin today! We're excited to have you on board.",timestamp:Date.now()-864e5,read:!0},{id:"4",type:"message",title:"Message from Alice",message:"Thanks for the quick response! I'll see you at the coffee shop at 2 PM.",timestamp:Date.now()-216e5,read:!0,actionUrl:"/chat"},{id:"5",type:"update",title:"Listing expired",message:'Your listing "Bitcoin Mining Rig" has expired. You can renew it or create a new one.',timestamp:Date.now()-1728e5,read:!0,actionUrl:"/profile"},{id:"6",type:"system",title:"Security update",message:"We've enhanced our platform security. Your account is now protected with additional verification measures.",timestamp:Date.now()-2592e5,read:!0},{id:"7",type:"message",title:"Bob wants to trade",message:"I have a MacBook Pro that I'd like to trade for Bitcoin. Are you interested?",timestamp:Date.now()-3456e5,read:!0,actionUrl:"/chat"},{id:"8",type:"update",title:"Payment received",message:"You've received 0.001 BTC from your recent sale. The funds are now in your wallet.",timestamp:Date.now()-432e6,read:!0,actionUrl:"/profile"}];i(e),m(e.filter(e=>!e.read).length)},[]);let h=a.filter(e=>"all"===c||("unread"===c?!e.read:"messages"===c?"message"===e.type:"updates"===c?"update"===e.type:"system"!==c||"system"===e.type)),g=e=>{i(t=>{let a=t.map(t=>t.id===e?{...t,read:!0}:t);try{localStorage.setItem("notifications",JSON.stringify(a))}catch(e){console.warn("Failed to save notifications to localStorage:",e)}return a}),m(e=>Math.max(0,e-1))},f=e=>{i(t=>{let a=t.filter(t=>t.id!==e);try{localStorage.setItem("notifications",JSON.stringify(a))}catch(e){console.warn("Failed to save notifications to localStorage:",e)}return a});let t=a.find(t=>t.id===e);t&&!t.read&&m(e=>Math.max(0,e-1))},x=e=>{switch(e){case"message":return(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})});case"update":return(0,r.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"system":return(0,r.jsx)("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}},p=e=>{let t=Date.now()-e,a=Math.floor(t/6e4),r=Math.floor(t/36e5);return a<1?"Just now":a<60?"".concat(a,"m ago"):r<24?"".concat(r,"h ago"):"".concat(Math.floor(t/864e5),"d ago")},y=e=>{switch(e){case"all":return a.length;case"unread":return a.filter(e=>!e.read).length;case"messages":return a.filter(e=>"message"===e.type).length;case"updates":return a.filter(e=>"update"===e.type).length;case"system":return a.filter(e=>"system"===e.type).length;default:return 0}};return(0,r.jsx)("div",{className:"min-h-screen bg-white dark:bg-neutral-950",children:(0,r.jsxs)("div",{className:"mx-auto max-w-4xl px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-white mb-2",children:(0,o.t)("notifications",t)}),(0,r.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:(0,o.t)("stay_updated",t)})]}),u>0&&(0,r.jsx)("button",{onClick:()=>{i(e=>{let t=e.map(e=>({...e,read:!0}));try{localStorage.setItem("notifications",JSON.stringify(t))}catch(e){console.warn("Failed to save notifications to localStorage:",e)}return t}),m(0)},className:"px-4 py-2 bg-orange-600 text-white font-medium rounded-lg hover:bg-orange-700 transition-colors duration-200",children:(0,o.t)("mark_all_as_read",t)})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 border-b border-neutral-200 dark:border-neutral-700",children:[{key:"all",label:(0,o.t)("all",t),count:y("all")},{key:"unread",label:(0,o.t)("unread",t),count:y("unread")},{key:"messages",label:(0,o.t)("messages",t),count:y("messages")},{key:"updates",label:(0,o.t)("updates",t),count:y("updates")},{key:"system",label:(0,o.t)("system",t),count:y("system")}].map(e=>(0,r.jsxs)("button",{onClick:()=>d(e.key),className:"px-4 py-2 rounded-lg font-medium transition-colors duration-200 ".concat(c===e.key?"bg-orange-600 text-white":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800"),children:[e.label,(0,r.jsxs)("span",{className:"ml-2 text-sm opacity-75",children:["(",e.count,")"]})]},e.key))})]}),(0,r.jsx)("div",{className:"space-y-4",children:0===h.length?(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-neutral-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)("svg",{className:"w-12 h-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-neutral-900 dark:text-white mb-2",children:(0,o.t)("no_notifications_found",t)}),(0,r.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400",children:"all"===c?(0,o.t)("you_are_caught_up",t):(0,o.t)("no_filter_notifications",t).replace("{filter}",c)})]}):h.map(e=>(0,r.jsx)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-700 p-6 hover:shadow-md transition-all duration-200 ".concat(e.read?"":"ring-2 ring-blue-500/20 bg-blue-50/50 dark:bg-blue-900/10"),children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[x(e.type),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold ".concat(e.read?"text-neutral-700 dark:text-neutral-300":"text-neutral-900 dark:text-white"),children:e.title}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[!e.read&&(0,r.jsx)("button",{onClick:()=>g(e.id),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:(0,o.t)("mark_as_read",t)}),(0,r.jsx)("button",{onClick:()=>f(e.id),className:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 font-medium",children:(0,o.t)("delete",t)})]})]}),(0,r.jsx)("p",{className:"text-neutral-600 dark:text-neutral-400 mb-3 leading-relaxed",children:e.message}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm text-neutral-500 dark:text-neutral-500",children:p(e.timestamp)}),e.actionUrl&&(0,r.jsxs)("a",{href:e.actionUrl,className:"inline-flex items-center px-3 py-1 bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 text-sm font-medium rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/30 transition-colors duration-200",children:[(0,o.t)("view_details",t),(0,r.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})},e.id))})]})})}},6062:function(e,t,a){"use strict";a.d(t,{J:function(){return s}});var r=a(2265),n=a(6248);function s(){let[e,t]=(0,r.useState)(()=>(0,n.VQ)());return(0,r.useEffect)(()=>(0,n.Xi)(()=>t((0,n.VQ)())),[]),e}},8070:function(e,t,a){"use strict";a.d(t,{$Y:function(){return m},Fg:function(){return d},SettingsProvider:function(){return i},eY:function(){return u},rV:function(){return c}});var r=a(7437),n=a(2265);let s={theme:"dark",unit:"sats",layout:"grid"};function l(e,t){switch(t.type){case"SET_THEME":return{...e,theme:t.payload};case"SET_UNIT":return{...e,unit:t.payload};case"SET_LAYOUT":return{...e,layout:t.payload};case"INITIALIZE":return t.payload;default:return e}}let o=(0,n.createContext)(null);function i(e){let{children:t}=e,[a,i]=(0,n.useReducer)(l,s);return(0,n.useEffect)(()=>{try{let e=function(){try{let e=localStorage.getItem("theme"),t=localStorage.getItem("priceUnit"),a=localStorage.getItem("layoutPref");return{theme:"light"===e||"dark"===e?e:s.theme,unit:"sats"===t||"BTC"===t?t:s.unit,layout:"grid"===a||"list"===a?a:s.layout}}catch(e){return console.warn("Failed to read settings from localStorage:",e),s}}();i({type:"INITIALIZE",payload:e});{let t="dark"===e.theme;document&&document.documentElement&&document.documentElement.classList.toggle("dark",t)}}catch(e){console.warn("Settings initialization failed:",e)}},[]),(0,n.useEffect)(()=>{try{let e="dark"===a.theme;document&&document.documentElement&&(document.documentElement.classList.toggle("dark",e),window.dispatchEvent(new Event("resize")))}catch(e){console.warn("Theme application failed:",e)}},[a.theme]),(0,r.jsx)(o.Provider,{value:{state:a,dispatch:i},children:t})}function c(){let e=(0,n.useContext)(o);if(!e)throw Error("useSettings must be used within a SettingsProvider");let{state:t,dispatch:a}=e;return{...t,setTheme:e=>{a({type:"SET_THEME",payload:e});try{localStorage.setItem("theme",e),window.dispatchEvent(new CustomEvent("bb:theme",{detail:e}))}catch(e){}},setUnit:e=>{a({type:"SET_UNIT",payload:e});try{localStorage.setItem("priceUnit",e),window.dispatchEvent(new CustomEvent("bb:unit",{detail:e}))}catch(e){}},setLayout:e=>{a({type:"SET_LAYOUT",payload:e});try{localStorage.setItem("layoutPref",e),window.dispatchEvent(new CustomEvent("bb:layout",{detail:e}))}catch(e){}},toggleTheme:()=>{let e="dark"===t.theme?"light":"dark";a({type:"SET_THEME",payload:e});try{localStorage.setItem("theme",e),window.dispatchEvent(new CustomEvent("bb:theme",{detail:e}))}catch(e){}}}}let d=()=>{let{theme:e,setTheme:t,toggleTheme:a}=c();return{theme:e,setTheme:t,toggleTheme:a}},u=()=>{let{unit:e,setUnit:t}=c();return{unit:e,setUnit:t}},m=()=>{let{layout:e,setLayout:t}=c();return{layout:e,setLayout:t}}}},function(e){e.O(0,[248,971,526,744],function(){return e(e.s=8219)}),_N_E=e.O()}]);